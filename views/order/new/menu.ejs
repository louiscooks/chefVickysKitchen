<% layout('layouts/orderTemplate') %>
<body>
	<div class="container">
		<div class="row mt-3">
			<div class="col-6 offset-3">
				<% if(!query){ %>
				<h1>Menu</h1>
				<div class="row">
					<form action="/cart/add/combo/<%= combo._id %>" method="POST">
						<div class="card mb-3 pt-3">
							<div class="card-body">
								<h5 class="card-title"><%=combo.name %></h5>
								<ul>
									<% for(let prod of combo.products){ %>
									<li><%= prod.name %></li>
									<% } %>
								</ul>
								<div class="form-check">
									<input
										class="form-check-input"
										type="radio"
										name="cart[diet]"
										id="default"
										value="classic"
										checked
									/>
									<label class="form-check-label" for="default">
										Classic
									</label>
								</div>
								<div class="form-check">
									<input
										class="form-check-input"
										type="radio"
										name="cart[diet]"
										id="vegan"
										value="vegan"
									/>
									<label class="form-check-label" for="vegan"> Vegan </label>
								</div>
								<div class="form-check">
									<input
										class="form-check-input"
										type="radio"
										name="cart[diet]"
										id="pescetarian"
										value="pescetarian"
									/>
									<label class="form-check-label" for="pescetarian">
										Pescetarian
									</label>
								</div>
								<div class="form-check">
									<input
										class="form-check-input"
										type="radio"
										name="cart[diet]"
										id="vegitarian"
										value="vegitarian"
									/>
									<label class="form-check-label" for="vegitarian">
										Vegitarian
									</label>
								</div>
								<div class="mt-3">
									<label class="form-label" for="qty">qty:</label>
									<select name="cart[qty]" id="qty">
										<%for(let i = 1; i<= 5; i++){ %>
										<option value="<%= i %>"><%= i %></option>
										<%} %>
									</select>
								</div>
								<div class="form-floating">
									<label for="floatingTextarea">Comments</label>
									<textarea
										class="form-control mb-3"
										name="cart[specialInstructions]"
										id="floatingTextarea"
										cols="40"
										rows="3"
									></textarea>
								</div>
								<div class="d-flex flex-row justify-content-center">
									<button>Add to Cart</button>
								</div>
							</div>
						</div>
					</form>
				</div>
				<% }%> <% if(query === "true"){ %>
				<div class="row g-2">
					<h2>Would you like anything else?</h2>
					<% for(let product of combo.products){ %>
					<div class="col-6">
						<form action="/cart/add/product/<%= product._id %>" method="POST">
							<div class="card mb-3">
								<img src="<%= product.image %>" class="card-img-top" />
								<div class="card-body">
									<h5 class="card-title"><%=product.name %></h5>
									<p class="card-text text-muted">
										<%= product.ingredients.substring(0,50).trim()+"..."%>
										<a href="">more Info</a>
									</p>
									<div class="form-check">
										<input
											class="form-check-input"
											type="radio"
											name="cart[diet]"
											id="default"
											value="classic"
											checked
										/>
										<label class="form-check-label" for="default">
											Classic
										</label>
									</div>
									<div class="form-check">
										<input
											class="form-check-input"
											type="radio"
											name="cart[diet]"
											id="vegan"
											value="vegan"
										/>
										<label class="form-check-label" for="vegan"> Vegan </label>
									</div>
									<div class="form-check">
										<input
											class="form-check-input"
											type="radio"
											name="cart[diet]"
											id="pescetarian"
											value="pescetarian"
										/>
										<label class="form-check-label" for="pescetarian">
											Pescetarian
										</label>
									</div>
									<div class="form-check">
										<input
											class="form-check-input"
											type="radio"
											name="cart[diet]"
											id="vegitarian"
											value="vegitarian"
										/>
										<label class="form-check-label" for="vegitarian">
											Vegitarian
										</label>
									</div>
									<div>
										<label class="form-label" for="qty">qty:</label>
										<select name="cart[qty]" id="qty">
											<%for(let i = 1; i<= 5; i++){ %>
											<option value="<%= i %>"><%= i %></option>
											<%} %>
										</select>
									</div>
									<div>
										<label for="instruction"></label>
										<textarea
											class="form-control mb-3"
											name="cart[specialInstructions]"
											id="instruction"
											cols="40"
											rows="3"
										></textarea>
									</div>
									<div class="d-flex flex-row justify-content-center">
										<button>Add to Cart</button>
									</div>
								</div>
							</div>
						</form>
					</div>
					<% } %>
					<a href="/order/checkout">Continue</a>
				</div>
				<% } %>
			</div>
		</div>
	</div>
</body>
